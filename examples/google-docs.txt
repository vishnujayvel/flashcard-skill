# Example Output: Google Docs System Design

This example demonstrates the flashcard-skill output for a comprehensive system design tutorial.

## Source Information
- URL: https://systemdesignschool.io/problems/google-doc/solution
- Tier: Deep (comprehensive multi-section design)
- Content: Real-time collaborative editing, OT, WebSockets, consistency models

---

## Flashcard Summary

**Source:** Google Docs System Design - systemdesignschool.io
**Tier:** Deep
**Total Cards:** 22

**Category Distribution:**
- Problem Statement: 2 cards
- Architecture: 5 cards
- Components: 4 cards
- Trade-offs: 5 cards
- Failure Handling: 3 cards
- Scaling: 3 cards

**Analogy Cards:** 5 (23%)

---

## Flashcards (Tab-Separated for Quizlet Import)

Copy everything between the BEGIN and END delimiters below for Quizlet bulk import.

---BEGIN FLASHCARDS---
Why do real-time collaborative editing systems need both read-your-writes and eventual consistency?	Read-your-writes ensures users see their own edits immediately (responsive UX), while eventual consistency allows the system to scale by letting other users' views converge over time rather than blocking on synchronization.
What's the trade-off of WebSockets vs HTTP polling for real-time collaboration?	WebSockets provide low-latency bidirectional communication ideal for real-time updates, but require persistent connections and more complex infrastructure. HTTP polling is simpler but creates high latency and server overhead from constant requests.
How would you explain Operational Transformation using an analogy?	OT is like two people editing the same sentence on a whiteboard from opposite ends. If person A inserts a word at position 3 and person B inserts at position 3, OT shifts B's insertion to account for A's change, so both edits land where intended rather than overwriting each other.
What breaks if the message queue between WebSocket Service and Document Service fails?	1) Edit operations get lost or delayed; 2) Users see stale document state; 3) The services become tightly coupled, causing cascading failures. The queue provides buffering during spikes and isolation between services.
Why separate Document Service from WebSocket Service in collaborative editing systems?	Separation enables independent scaling (WebSocket connections vs. processing load), improves fault isolation (one service failing doesn't crash the other), and allows the message queue to buffer during traffic spikes.
What's the trade-off of Last-Write-Wins vs Operational Transformation for conflict resolution?	Last-Write-Wins is simple with low overhead but can lose user edits during fine-grained collaboration. OT preserves user intention through transformation functions but adds implementation complexity and can have scalability limits.
How does a message queue help prevent server overload from frequent document edits?	The queue buffers edit submissions during traffic spikes, decouples services so they can scale independently, enables multiple workers to process asynchronously, and prevents direct load spikes from reaching the document service.
Why do collaborative editors store document metadata and content separately?	Metadata (title, permissions, timestamps) needs ACID transactions and relational queries, suited for SQL databases. Content is large unstructured data needing cheap scalable storage, suited for object storage like S3.
How would you explain eventual consistency using an analogy?	Eventual consistency is like a library catalog update. When a new book arrives, not all catalog stations update instantly, but given time without new changes, all stations will eventually show the same information.
What pattern does the hybrid snapshot-delta approach represent for version history?	It's a time-space trade-off pattern: snapshots every ~100 changes provide fast retrieval but use more storage, while deltas between snapshots save space. The hybrid balances storage efficiency with version reconstruction speed.
Why use flat URL structures with random document IDs instead of hierarchical paths?	Flat URLs with random IDs avoid exposing folder structure (security), keep URLs short and shareable, and enable global uniqueness without path collision concerns.
What's the trade-off of snapshot-based vs delta-based version history?	Snapshots offer fast retrieval but are storage intensive. Deltas are storage efficient but require reconstructing state by replaying changes. Hybrid approach (periodic snapshots + deltas between) balances both concerns.
How would you explain CRDTs using an analogy?	CRDTs are like a voting system where each ballot is self-describing. No matter what order ballots arrive or if some arrive late, the final count will always be correct because the data structure mathematically guarantees convergence.
What breaks if the WebSocket connection drops during collaborative editing?	1) User stops receiving real-time updates from other editors; 2) Their pending edits may be lost if not queued locally; 3) On reconnect, the client needs to sync state and resolve conflicts from the offline period.
Why does Google Docs represent content as a tree of objects rather than plain text?	The tree structure (document → body → paragraphs → text runs) enables rich formatting, high-granularity editing at the text-run level, and bulk operations on structural elements like tables and equations.
What's the trade-off of CRDTs vs Operational Transformation?	CRDTs provide automatic conflict resolution without central coordination, ideal for offline-first systems. OT requires a central server but is more mature and handles complex document structures better. CRDTs have simpler reasoning but larger data structures.
How does rate limiting per user prevent abuse in collaborative editing systems?	Rate limiting caps edit frequency per user to prevent: 1) Denial-of-service from malicious rapid edits; 2) Unfair resource consumption; 3) Message queue flooding that delays legitimate operations.
How would you explain the message queue pattern using an analogy?	A message queue is like a restaurant ticket system. Orders (edits) go on tickets in sequence. The kitchen (document service) processes tickets at its own pace without being overwhelmed when the dining room (WebSocket service) gets busy.
What consistency model does "users see their own edits immediately" represent?	Read-your-writes consistency. It guarantees that after a user makes a write, their subsequent reads will reflect that write, even if other users haven't seen it yet.
Why use pre-scaling before peak times in collaborative editing systems?	Infrastructure provisioning has lag time. Pre-scaling ensures capacity is ready before the 5x traffic spike hits during peak hours, avoiding dropped connections and increased latency while auto-scaling catches up.
What breaks if you use a single database for both document metadata and content?	1) Relational DBs can't efficiently store/retrieve large binary content; 2) Costs escalate vs. object storage; 3) Database performance degrades with large BLOBs; 4) You lose specialized features of each storage type.
How would you explain WebSocket bidirectional communication using an analogy?	WebSocket is like a phone call versus sending letters. HTTP polling (letters) requires sending a request and waiting for each response. WebSocket (phone call) keeps the line open so either party can speak anytime without re-establishing connection.
---END FLASHCARDS---

---

## Quizlet Import Instructions

1. Go to quizlet.com and sign in
2. Click "Create" → "Flashcard Set"
3. Click the "..." menu and select "Import"
4. Copy the content between ---BEGIN FLASHCARDS--- and ---END FLASHCARDS---
5. Paste into the import field
6. Ensure "Tab" is selected as the separator between term and definition
7. Click "Import"

All 22 cards will be imported with questions as terms and answers as definitions.
